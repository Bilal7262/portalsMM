PROJECT DOCUMENTATION
=====================

1. PROJECT OVERVIEW
-------------------
This project is a Voice AI Management System consisting of a Laravel Backend and two Vue.js Frontends (Admin Portal and Company Portal). It manages Companies, Agents (AI Voices), DIDs (Phone Numbers), Invoices, and Calls.

2. DATABASE SCHEMA
------------------
Based on migration files, the database contains the following tables:
- users (Standard Laravel users, likely unused or for superadmin)
- admins (Admin portal users)
- companies (Business entities)
- company_users (Users belonging to companies)
- dids (Phone numbers available in the system)
- company_dids (Association of DIDs to companies - *likely deprecated/refactored to company_agents*)
- company_agents (AI Agents assigned to companies, linked to DIDs and Voices)
- admin_voices (Master list of available AI voices)
- voice_cache (Caching mechanism for voice generation/retrieval)
- calls (Record of calls made/received)
- call_messages (Transcript/Message history of calls)
- company_agent_invoices (Invoices generated for companies)
- company_agent_invoice_items (Line items within invoices)
- company_activity_logs (Audit logs for company actions)
- admin_activity_logs (Audit logs for admin actions)
- jobs (Laravel queue jobs)
- personal_access_tokens (Sanctum authentication tokens)

3. BACKEND API STRUCTURE (Laravel)
----------------------------------
Base URL: /api

A. Admin Portal Routes (/api/admin)
   - Auth: /login, /logout, /me
   - Resources:
     - /companies (CRUD)
     - /dids (CRUD)
     - /invoices (Index, Show, Update)
       - /invoices/{id}/items
       - /invoice-items/{id}/calls
     - /calls (Index, Show)
       - /calls/{id}/messages
     - /voices (CRUD)
       - /voices/{id}/caches
     - /company-agents (CRUD, Approve)
     - /admins (CRUD, Roles) - Team Management
   - Reports: /reports
   - Activity Logs: /activity-logs

B. Company Portal Routes (/api/company)
   - Auth: /register, /verify-email, /login, /logout, /me
   - agents:
     - /agents (CRUD)
     - /agents/available-voices
   - users: /users (Company User Management)
   - invoices:
     - /invoices (List, Show)
     - /invoices/{id}/calls
     - /invoices/{id}/download
   - calls:
     - /calls (List, Show, Feedback)
     - /calls/current-month (Stats)
     - /calls/{callId}/messages (Chat history)
   - activity-logs: /activity-logs

4. FRONTEND STRUCTURE
---------------------

A. Admin Portal (Vue.js)
   - Dashboard (/dashboard)
   - Companies (/companies) - Manage businesses
   - DIDs (/dids) - Manage inventory of phone numbers
   - Company Agents (/company-agents) - Manage AI agents assigned to companies
   - Invoices (/invoices)
     - Invoice Items (/invoices/:id/items)
     - Item Calls (/invoice-items/:id/calls)
     - Call Details/Messages (/calls/:id/messages)
   - Voices (/voices)
     - Voice Cache (/voices/:id/cache)
   - Reports (/reports) - AI & Company Ratings, Call Analysis
   - Team (/team) - Admin user management
   - Activity Logs (/activity-logs)

B. Company Portal (Vue.js)
   - Dashboard (/dashboard)
   - Agents (/agents) - Manage own AI agents
   - Users (/users) - Manage company staff
   - Invoices (/invoices)
     - Invoice Calls (/invoices/:id/calls)
   - Calls (/calls)
     - Call History (/call-history)
   - Activity Logs (/activity-logs)
